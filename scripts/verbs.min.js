async function populatePage(e){let t=await getUserData(e),a=t.level,n=await getVerbData(e,a);n.sort(compare),n.forEach(e=>{let t=`\n                  <tr>\n                    <td scope="col">${e.level}</td>\n                    <td scope="col">${e.partsOfSpeech.join(",")}</td>\n                    <td scope="col">${e.characters}</td>\n                    <td scope="col">${e.reading}</td>\n                    <td scope="col">${e.meaning}</td>\n                    <td scope="col"><a href="https://cooljugator.com/ja/${e.characters}" target="_blank">Conjugate</a></td>\n                  </tr>\n                `;$("#tableBody").append(t)}),$("#verbTable").DataTable()}async function getUserData(e){let t="WaniKaniUserData",a=new Headers({"Wanikani-Revision":"20170710",Authorization:"Bearer "+e});if(sessionStorage.getItem(t))return Promise.resolve(JSON.parse(sessionStorage.getItem(t)));{let e=new Request("https://api.wanikani.com/v2/user",{method:"GET",headers:a});return fetch(e).then(e=>e.json()).then(e=>(sessionStorage.setItem(t,JSON.stringify(e.data)),e.data))}}function getApiToken(){let e="WaniKaniUserToken";return localStorage.getItem(e)}async function getVerbData(e,t){let a=getLevels(t),n="subjects?types=vocabulary&levels="+a,r=!0,o=[],s=new Headers({"Wanikani-Revision":"20170710",Authorization:"Bearer "+e}),i="https://api.wanikani.com/v2/"+n;for(;r;){let e=new Request(i,{method:"GET",headers:s}),t=await fetch(e).then(e=>e.json()).then(e=>e);t.data.forEach(e=>{var t={};let a=e.data.parts_of_speech;(a.includes("ichidan verb")||a.includes("godan verb"))&&(t.level=e.data.level,t.meaning=e.data.meanings[0].meaning,t.reading=e.data.readings[0].reading,t.characters=e.data.characters,t.partsOfSpeech=a,o.push(t))}),t.pages.next_url?i=t.pages.next_url:r=!1}return Promise.resolve(o)}function getLevels(e){for(var t=[],a=1;a<=e;a++)t.push(a);return t.join(",")}function compare(e,t){const a=e.level,n=t.level;let r=0;return a>n?r=1:a<n&&(r=-1),r}$(function(){let e=getApiToken();null==e&&(window.location.href="enter-token.html?returnUrl=verbs.html"),populatePage(e),$("#spinner").hide()});